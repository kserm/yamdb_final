# Проект YaMDb 
![yamdb workflow](https://github.com/kserm/yamdb_final/actions/workflows/yamdb_workflow.yml/badge.svg)
### yamdb_final

## **Описание.**

Проект YaMDb собирает отзывы (Review) пользователей на произведения (Titles). 
Произведения делятся на категории, список категорий (Category) может быть расширен администратором.
Сами произведения в YaMDb не хранятся, здесь нельзя посмотреть фильм или послушать музыку.
В каждой категории есть произведения: книги, фильмы или музыка.
Произведению может быть присвоен жанр (Genre) из списка предустановленных. 
Новые жанры может создавать только администратор.
Пользователи оставляют к произведениям текстовые отзывы (Review) и 
ставят произведению оценку в диапазоне от одного до десяти (целое число); 
из пользовательских оценок формируется усреднённая оценка произведения — рейтинг (целое число). 
На одно произведение пользователь может оставить только один отзыв.

## **Шаблон наполнения env-файла.**
```
DB_ENGINE=django.db.backends.postgresql # указываем, что работаем с postgresql
DB_NAME=postgres # имя базы данных
POSTGRES_USER=postgres # логин для подключения к базе данных
POSTGRES_PASSWORD=postgres # пароль для подключения к БД (установите свой)
DB_HOST=db # название сервиса (контейнера)
DB_PORT=5432 # порт для подключения к БД
```

## **Описание команд для запуска приложения в контейнерах.**
Перейдите в раздел infra/ и выполните команду:
```
docker-compose up -d --build
```

Выполните миграции:
```
docker-compose exec web python manage.py migrate
```

## **Создание суперпользователя.**
Для создания superuser выполните команду:
```
docker-compose exec web python manage.py createsuperuser
```

## **Описание команды для заполнения базы данными.**
После выполнения миграций:
```
docker-compose exec web python manage.py loaddata fixtures.json
```

## **Описание команды для сбора статики.**
```
docker-compose exec web python manage.py collectstatic --no-input
```

## **Примеры запросов**

Примеры запросов и варинты ответов доступны после запуска сервера по адрессу:

При запуске локально:
http://127.0.0.1:8000/redoc/

При работе с удаленным сервером:
http://62.84.120.238:80/redoc/